# 为什么需要并发？
## 上下文
因为CPU与IO的速度相差很大，为了提到吞吐量而产生了进程模型，进程模型实现的关键在于在进程切换时在内存中使用链表保存CPU的寄存器信息，并且读取下一个进程的CPU寄存器信息。
这种被保存的状态信息就是上下文。

因为上下文保存和切换开销很大，后来又提出了线程模型，演变到现在又产生了协程，他们解决的问题都是减少上下文的保存和切换来节省系统资源。

常见的需要保存上下文的操作有：
- 函数调用栈，需要保存局部变量
- 进程保存和切换
- 系统调用和中断需要保存调用之前的状态

## IO
IO操作通常有磁盘文件的读写，网络IO操作，通常都包括这两个过程：
- 硬件设备到内核空间
- 内核空间到用户空间

开发者为了提高效率，减少IO的次数，提出了缓冲区和缓存的概念，也就是一种以空间换时间的思路。

针对数据从内核空间到用户空间这个过程又提出了阻塞与非阻塞。

# 生产者消费者模型

生产者消费者问题（英语：Producer-consumer problem），也称有限缓冲问题（英语：Bounded-buffer problem），是一个多线程同步问题的经典案例。

该问题描述了两个共享固定大小缓冲区的线程——即所谓的“生产者”和“消费者”——在实际运行时会发生的问题。

生产者的主要作用是生成一定量的数据放到缓冲区中，然后重复此过程。与此同时，消费者也在缓冲区消耗这些数据。

该问题的关键就是要保证生产者不会在缓冲区满时加入数据，消费者也不会在缓冲区中空时消耗数据。

# 并发
多线程
